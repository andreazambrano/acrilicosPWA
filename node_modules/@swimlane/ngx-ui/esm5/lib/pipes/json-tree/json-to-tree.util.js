import { getType } from '../../utils';
export function jsonToTree(value, label) {
    var type = getType(value);
    var children;
    var expandable = false;
    if (typeof label === 'undefined') {
        label = label || type;
    }
    switch (type) {
        case 'object':
            children = Object.keys(value).map(function (key) { return jsonToTree(value[key], key); });
            expandable = children.length > 0;
            return {
                label: label,
                expandable: expandable,
                expanded: true,
                model: { type: type, value: value },
                children: children
            };
        case 'array':
            children = value.map(jsonToTree);
            expandable = children.length > 0;
            return {
                label: label,
                expandable: expandable,
                expanded: true,
                model: { type: type, value: value },
                children: children
            };
        default:
            return {
                label: label,
                expandable: expandable,
                model: { type: type, value: value }
            };
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoianNvbi10by10cmVlLnV0aWwuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9Ac3dpbWxhbmUvbmd4LXVpLyIsInNvdXJjZXMiOlsibGliL3BpcGVzL2pzb24tdHJlZS9qc29uLXRvLXRyZWUudXRpbC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsT0FBTyxFQUFFLE1BQU0sYUFBYSxDQUFDO0FBSXRDLE1BQU0sVUFBVSxVQUFVLENBQUMsS0FBVSxFQUFFLEtBQWM7SUFDbkQsSUFBTSxJQUFJLEdBQUcsT0FBTyxDQUFDLEtBQUssQ0FBQyxDQUFDO0lBRTVCLElBQUksUUFBZSxDQUFDO0lBQ3BCLElBQUksVUFBVSxHQUFHLEtBQUssQ0FBQztJQUV2QixJQUFJLE9BQU8sS0FBSyxLQUFLLFdBQVcsRUFBRTtRQUNoQyxLQUFLLEdBQUcsS0FBSyxJQUFJLElBQUksQ0FBQztLQUN2QjtJQUVELFFBQVEsSUFBSSxFQUFFO1FBQ1osS0FBSyxRQUFRO1lBQ1gsUUFBUSxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsR0FBRyxDQUFDLFVBQUEsR0FBRyxJQUFJLE9BQUEsVUFBVSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsRUFBRSxHQUFHLENBQUMsRUFBM0IsQ0FBMkIsQ0FBQyxDQUFDO1lBQ3RFLFVBQVUsR0FBRyxRQUFRLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQztZQUVqQyxPQUFPO2dCQUNMLEtBQUssT0FBQTtnQkFDTCxVQUFVLFlBQUE7Z0JBQ1YsUUFBUSxFQUFFLElBQUk7Z0JBQ2QsS0FBSyxFQUFFLEVBQUUsSUFBSSxNQUFBLEVBQUUsS0FBSyxPQUFBLEVBQUU7Z0JBQ3RCLFFBQVEsVUFBQTthQUNULENBQUM7UUFDSixLQUFLLE9BQU87WUFDVixRQUFRLEdBQUcsS0FBSyxDQUFDLEdBQUcsQ0FBQyxVQUFVLENBQUMsQ0FBQztZQUNqQyxVQUFVLEdBQUcsUUFBUSxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUM7WUFFakMsT0FBTztnQkFDTCxLQUFLLE9BQUE7Z0JBQ0wsVUFBVSxZQUFBO2dCQUNWLFFBQVEsRUFBRSxJQUFJO2dCQUNkLEtBQUssRUFBRSxFQUFFLElBQUksTUFBQSxFQUFFLEtBQUssT0FBQSxFQUFFO2dCQUN0QixRQUFRLFVBQUE7YUFDVCxDQUFDO1FBQ0o7WUFDRSxPQUFPO2dCQUNMLEtBQUssT0FBQTtnQkFDTCxVQUFVLFlBQUE7Z0JBQ1YsS0FBSyxFQUFFLEVBQUUsSUFBSSxNQUFBLEVBQUUsS0FBSyxPQUFBLEVBQUU7YUFDdkIsQ0FBQztLQUNMO0FBQ0gsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGdldFR5cGUgfSBmcm9tICcuLi8uLi91dGlscyc7XG5cbmltcG9ydCB7IFRyZWVOb2RlIH0gZnJvbSAnLi4vLi4vY29tcG9uZW50cy90cmVlL3RyZWUtbm9kZS5tb2RlbCc7XG5cbmV4cG9ydCBmdW5jdGlvbiBqc29uVG9UcmVlKHZhbHVlOiBhbnksIGxhYmVsPzogc3RyaW5nKTogVHJlZU5vZGUge1xuICBjb25zdCB0eXBlID0gZ2V0VHlwZSh2YWx1ZSk7XG5cbiAgbGV0IGNoaWxkcmVuOiBhbnlbXTtcbiAgbGV0IGV4cGFuZGFibGUgPSBmYWxzZTtcblxuICBpZiAodHlwZW9mIGxhYmVsID09PSAndW5kZWZpbmVkJykge1xuICAgIGxhYmVsID0gbGFiZWwgfHwgdHlwZTtcbiAgfVxuXG4gIHN3aXRjaCAodHlwZSkge1xuICAgIGNhc2UgJ29iamVjdCc6XG4gICAgICBjaGlsZHJlbiA9IE9iamVjdC5rZXlzKHZhbHVlKS5tYXAoa2V5ID0+IGpzb25Ub1RyZWUodmFsdWVba2V5XSwga2V5KSk7XG4gICAgICBleHBhbmRhYmxlID0gY2hpbGRyZW4ubGVuZ3RoID4gMDtcblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgbGFiZWwsXG4gICAgICAgIGV4cGFuZGFibGUsXG4gICAgICAgIGV4cGFuZGVkOiB0cnVlLFxuICAgICAgICBtb2RlbDogeyB0eXBlLCB2YWx1ZSB9LFxuICAgICAgICBjaGlsZHJlblxuICAgICAgfTtcbiAgICBjYXNlICdhcnJheSc6XG4gICAgICBjaGlsZHJlbiA9IHZhbHVlLm1hcChqc29uVG9UcmVlKTtcbiAgICAgIGV4cGFuZGFibGUgPSBjaGlsZHJlbi5sZW5ndGggPiAwO1xuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBsYWJlbCxcbiAgICAgICAgZXhwYW5kYWJsZSxcbiAgICAgICAgZXhwYW5kZWQ6IHRydWUsXG4gICAgICAgIG1vZGVsOiB7IHR5cGUsIHZhbHVlIH0sXG4gICAgICAgIGNoaWxkcmVuXG4gICAgICB9O1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4ge1xuICAgICAgICBsYWJlbCxcbiAgICAgICAgZXhwYW5kYWJsZSxcbiAgICAgICAgbW9kZWw6IHsgdHlwZSwgdmFsdWUgfVxuICAgICAgfTtcbiAgfVxufVxuIl19