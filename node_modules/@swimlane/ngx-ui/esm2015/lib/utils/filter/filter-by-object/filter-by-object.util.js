import { filterByString } from '../filter-by-string';
import { filterDefault } from '../filter-default';
export function filterByObject(filter) {
    return (value) => {
        for (const key in filter) {
            if (!value.hasOwnProperty(key)) {
                return false;
            }
            let isMatching;
            if (typeof value[key] === 'string') {
                isMatching = filterByString(filter[key])(value[key]);
            }
            else if (typeof value[key] === 'object') {
                isMatching = filterByObject(filter[key])(value[key]);
            }
            else {
                isMatching = filterDefault(filter[key])(value[key]);
            }
            if (!isMatching) {
                return false;
            }
        }
        return true;
    };
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZmlsdGVyLWJ5LW9iamVjdC51dGlsLmpzIiwic291cmNlUm9vdCI6Im5nOi8vQHN3aW1sYW5lL25neC11aS8iLCJzb3VyY2VzIjpbImxpYi91dGlscy9maWx0ZXIvZmlsdGVyLWJ5LW9iamVjdC9maWx0ZXItYnktb2JqZWN0LnV0aWwudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLGNBQWMsRUFBRSxNQUFNLHFCQUFxQixDQUFDO0FBQ3JELE9BQU8sRUFBRSxhQUFhLEVBQUUsTUFBTSxtQkFBbUIsQ0FBQztBQUVsRCxNQUFNLFVBQVUsY0FBYyxDQUFDLE1BQVc7SUFDeEMsT0FBTyxDQUFDLEtBQVUsRUFBRSxFQUFFO1FBQ3BCLEtBQUssTUFBTSxHQUFHLElBQUksTUFBTSxFQUFFO1lBQ3hCLElBQUksQ0FBQyxLQUFLLENBQUMsY0FBYyxDQUFDLEdBQUcsQ0FBQyxFQUFFO2dCQUM5QixPQUFPLEtBQUssQ0FBQzthQUNkO1lBRUQsSUFBSSxVQUFtQixDQUFDO1lBRXhCLElBQUksT0FBTyxLQUFLLENBQUMsR0FBRyxDQUFDLEtBQUssUUFBUSxFQUFFO2dCQUNsQyxVQUFVLEdBQUcsY0FBYyxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO2FBQ3REO2lCQUFNLElBQUksT0FBTyxLQUFLLENBQUMsR0FBRyxDQUFDLEtBQUssUUFBUSxFQUFFO2dCQUN6QyxVQUFVLEdBQUcsY0FBYyxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO2FBQ3REO2lCQUFNO2dCQUNMLFVBQVUsR0FBRyxhQUFhLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7YUFDckQ7WUFFRCxJQUFJLENBQUMsVUFBVSxFQUFFO2dCQUNmLE9BQU8sS0FBSyxDQUFDO2FBQ2Q7U0FDRjtRQUVELE9BQU8sSUFBSSxDQUFDO0lBQ2QsQ0FBQyxDQUFDO0FBQ0osQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGZpbHRlckJ5U3RyaW5nIH0gZnJvbSAnLi4vZmlsdGVyLWJ5LXN0cmluZyc7XG5pbXBvcnQgeyBmaWx0ZXJEZWZhdWx0IH0gZnJvbSAnLi4vZmlsdGVyLWRlZmF1bHQnO1xuXG5leHBvcnQgZnVuY3Rpb24gZmlsdGVyQnlPYmplY3QoZmlsdGVyOiBhbnkpIHtcbiAgcmV0dXJuICh2YWx1ZTogYW55KSA9PiB7XG4gICAgZm9yIChjb25zdCBrZXkgaW4gZmlsdGVyKSB7XG4gICAgICBpZiAoIXZhbHVlLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuXG4gICAgICBsZXQgaXNNYXRjaGluZzogYm9vbGVhbjtcblxuICAgICAgaWYgKHR5cGVvZiB2YWx1ZVtrZXldID09PSAnc3RyaW5nJykge1xuICAgICAgICBpc01hdGNoaW5nID0gZmlsdGVyQnlTdHJpbmcoZmlsdGVyW2tleV0pKHZhbHVlW2tleV0pO1xuICAgICAgfSBlbHNlIGlmICh0eXBlb2YgdmFsdWVba2V5XSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgaXNNYXRjaGluZyA9IGZpbHRlckJ5T2JqZWN0KGZpbHRlcltrZXldKSh2YWx1ZVtrZXldKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlzTWF0Y2hpbmcgPSBmaWx0ZXJEZWZhdWx0KGZpbHRlcltrZXldKSh2YWx1ZVtrZXldKTtcbiAgICAgIH1cblxuICAgICAgaWYgKCFpc01hdGNoaW5nKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfTtcbn1cbiJdfQ==